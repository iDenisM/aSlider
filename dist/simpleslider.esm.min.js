var e,t,i="next",s="prev",n="control_prev",r="control_next",o="nav_elem",a={slide:"slide",active:"slide_active",prev:"slide_prev",next:"slide_next"},c={wrapperSelector:".".concat("slides"),controls:{prevBtnSelector:".".concat(n),nextBtnSelector:".".concat(r)},navigation:".".concat(o),slides:{slideSelector:".".concat(a.slide),activeSlideSelector:".".concat(a.active),prevSlideSelector:".".concat(a.prev),nextSlideSelector:".".concat(a.next)}};!function(e){e[e.Idle=0]="Idle",e[e.Prev=1]="Prev",e[e.Next=2]="Next"}(e||(e={})),function(e){e[e.Idle=0]="Idle",e[e.Active=1]="Active",e[e.Next=2]="Next",e[e.Prev=3]="Prev"}(t||(t={}));var l=function(){function t(e,t){this.active=[],this.prev=[],this.next=[],this.active=e.active,this.prev=e.prev,this.next=e.next,this.lastIndex=t}return t.prototype._increaseValue=function(e){var t=this;return e.map((function(e){return e!=t.lastIndex?++e:0}))},t.prototype._decreaseValue=function(e){var t=this;return e.map((function(e){return e?--e:t.lastIndex}))},t.prototype._jumpToValue=function(e,t){var i=this;return t.map((function(t){return t+e>i.lastIndex?t+e-i.lastIndex-1:t+e}))},Object.defineProperty(t.prototype,"change",{set:function(t){switch(t){case e.Next:this.active=this._increaseValue(this.active),this.next=this._increaseValue(this.next),this.prev=this._increaseValue(this.prev);break;case e.Prev:this.active=this._decreaseValue(this.active),this.next=this._decreaseValue(this.next),this.prev=this._decreaseValue(this.prev)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changeTo",{set:function(e){this.active=this._jumpToValue(e,this.active),this.next=this._jumpToValue(e,this.next),this.prev=this._jumpToValue(e,this.prev)},enumerable:!1,configurable:!0}),t}(),h=function(e,t){e&&e.classList.add(t)},u=function(e,t){e&&e.classList.remove(t)},v=function(){function t(t,i){this._elem=t;var s=this._slides=this._elem.querySelectorAll(i.slides.slideSelector),n={active:[0],next:[1],prev:[s.length-1]};this._direction=e.Idle,this._jumpTo=0,this._actors=new l(n,s.length-1),this._animating=!1,this._isJumping=!1,this._slideList=this._createSlideList(n),this._updateAllSlidesClasses(),s.length&&this._eventsHandler()}return t.prototype._createSlideList=function(e){var t=this;return{active:e.active.map((function(e){return t._slides[e]})),prev:e.prev.map((function(e){return t._slides[e]})),next:e.next.map((function(e){return t._slides[e]}))}},t.prototype._eventsHandler=function(){this._elem.addEventListener("transitionend",this._animationEnd.bind(this),!1)},Object.defineProperty(t.prototype,"movedTo",{get:function(){return this._direction},set:function(t){this._animating||(this._animating=!0,this._direction=t,t===e.Prev&&2===this._slides.length&&this._updateSlidesClasses(this._slideList.next,a.prev),h(this._elem,t===e.Prev?s:i))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"jumpTo",{get:function(){return this._jumpTo},set:function(t){var i=this._actors.active;if(-1===i.indexOf(t)){this._isJumping=!0,this._jumpTo=t;for(var s=i[i.length-1]>t?e.Prev:e.Next,n=s===e.Prev?this._actors.prev:this._actors.next,r=n[n.length-1]+1;r<=t;r++)n.push(r);for(r=0;r<n.length;r++)this._slides[n[r]].style.transform="translate3d("+(s===e.Prev?"-":"")+100*(r+1)+"%, 0, 0)";var o=s===e.Prev?this._actors.active[0]-t:t-this._actors.active[0];this._elem.style.transform="translate3d("+(s===e.Prev?"":"-")+100*o+"%, 0, 0)"}},enumerable:!1,configurable:!0}),t.prototype._animationEnd=function(){this._isJumping?this._actors.change=this.movedTo:this._actors.changeTo=this.jumpTo,this._updateAllSlidesClasses(),u(this._elem,this.movedTo===e.Prev?s:i),this._isJumping=!1,this._animating=!1},t.prototype._updateAllSlidesClasses=function(){var e=this._slideList,t=this._createSlideList(this._actors),i=t.active.concat(t.next,t.prev),s=e.active.concat(e.next,e.prev).filter((function(e){return-1===i.indexOf(e)}));if(this._slideList=t,this._updateSlidesClasses(s),this._updateSlidesClasses(t.active,a.active),this._isJumping)for(var n=0;n<this._slides.length;n++)this._slides[n].style.removeProperty("transform");this._updateSlidesClasses(t.next,a.next),this._slides.length>2&&this._updateSlidesClasses(t.prev,a.prev)},t.prototype._updateSlidesClasses=function(e,t){void 0===t&&(t="");for(var i=0;i<e.length;i++)u(e[i],a.active),u(e[i],a.next),u(e[i],a.prev),t&&h(e[i],t)},t}(),p=function(){function t(e,t){this.element="string"==typeof e?document.querySelector(e):e,this.options=null!=t?Object.assign(c,t):c;var i=this.element.querySelector(this.options.wrapperSelector),s=new v(i,this.options);this._handleEvents(s)}return t.prototype._handleEvents=function(t){var i=this.element.querySelector(this.options.controls.prevBtnSelector),s=this.element.querySelector(this.options.controls.nextBtnSelector),n=this.element.querySelectorAll(this.options.navigation);s&&s.addEventListener("click",(function(){return t.movedTo=e.Next}),!1),i&&i.addEventListener("click",(function(){return t.movedTo=e.Prev}),!1);for(var r=function(e){n[e].addEventListener("click",(function(){return t.jumpTo=e}),!1)},o=0;o<n.length;o++)r(o)},t}();export{p as Slider};
